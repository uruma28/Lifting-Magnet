// 設定項目の構造体
typedef struct {
    int min;                // 最小値
    int max;                // 最大値
    int default_value;      // 初期値
} SettingRange;

// 設定項目ごとの範囲,初期値を定義
SettingRange setting_ranges[10][10] = 
{
    {// システム制御/管理データ1 00～09 
		{0, 0, 0},                                  // 00:動作環境データ設定終了 
		{0, 1, 0},                                  // 01:動作環境データ変更許可 
		{0, 16, 12},                                // 02:LCDｺﾝﾄﾗｽﾄ 
		{0, 99, 7},	                                // 03:LCD輝度 
		{1, 20, 10},                                // 04:LCD表示更新周期 
		{0, 0, 0},                                  // 05:予備
		{0, 0, 0},	                                // 06:予備
		{0, 0, 0},	                                // 07:予備
        {0, 0, 0},	                                // 08:予備
        {0, 0, 0}	                                // 09:予備
	},

	{// システム制御/管理データ2 10～19 
		{1, 25, 5},									// 10:出力パワー制御PWM停止レベル(1～25%) 
		{100, 0, 100},							    // 11:出力パワー制御PWMリミット値(0～100%) 
		{0, 1, 0},							        // 12:電流インターフェイス選択 0:4-20mA、1:0-20mA) 
		{0, 1, 0},							        // 13:温度センサ選択(0:STS-60、1:STS-73) 
		{1, 100, 10},								// 14:ソフトスタート(10ms～1000ms) 
		{0, 1, 1},						            // 15:外部リセット操作許可 
		{45, 75, 60},								// 16:温度異常警報判定値(45～75℃)
		{35, 44, 40},								// 17:温度異常警報解除温度(35～44℃) 
		{0, 195, 58},								// 18:入力電流リミット値(00.0～19.5A)10倍で入力
		{1, 49999, 1000}					        // 19:出力パワー制御周期(100μS～4999900μS) 
	},
	{// システム制御/管理データ3 20～29 
		{5, 99, 10},								// 20:発振器周波数計測周期(0.5～9.9秒) 
		{0, 30, 5},									// 21:PWM補正不感帯(0.0～3.0%) 
		{80, 99, 90},								// 22:力率設定(80%～99%) 
		{10, 50, 40},								// 23:パワー補正領域設定(10～50%) 
		{5, 20, 20},								// 24:パワー補正制御実行周期(0.5～2.0秒) 
		{1, 5, 5},						            // 25:モニタPWMレンジ選択(1KW～5KW) 
		{10, 15, 13},								// 26:1KWレンジモニタPWM補正係数(1.0～1.5) 
		{0, 1, 1},                                  // 27:パワー補正実行許可 (禁止(Dis)/許可(En)) 
        {1, 179, 1},                                // 28:PWM出力位相差設定(1°~179°)
        {10, 200, 50}                               // 29:制限出力電流(1A～20A)10倍
	},
	{// システム制御/管理データ4 30～39 
        {50, 5, 30},                                // 30:最大周波数(kHz)
        {1, 45, 20},                                // 31:最小周波数(kHz)
		{1, 50, 25},                                // 32:標準周波数(kHz)
		{0, 0, 0},                                  // 33:予備
        {0, 0, 0},                                  // 34:予備
		{0, 0, 0},                                  // 35:予備
		{0, 0, 0},                                  // 36:予備
		{0, 0, 0},                                  // 37:予備
        {0, 0, 0},                                  // 38:予備
        {0, 0, 0}                                   // 39:予備
	},
	{// システム制御/管理データ5 40～49 
        {0, 0, 0},                                  // 30:予備
        {0, 0, 0},                                  // 31:予備
		{0, 0, 0},                                  // 32:予備
		{0, 0, 0},                                  // 33:予備
        {0, 0, 0},                                  // 34:予備
		{0, 0, 0},                                  // 35:予備
		{0, 0, 0},                                  // 36:予備
		{0, 0, 0},                                  // 37:予備
        {0, 0, 0},                                  // 38:予備
        {0, 0, 0}                                   // 39:予備
	},
	{// システム制御/検証データ 50～59 
		{0, 0, 1},							        // 50:検証モードON/OFF(1/0) 
		{0, 4095, 0},				                // 51:電流インターフェイスAD値設定 
		{0, 4095, 0},					            // 52:ヒートシンク温度AD値設定 
		{0, 4095, 0},                               // 53:入力電流AD値設定 
		{0, 4095, 0},                               // 54:＋１２V制御電源電圧AD値設定 
        {0, 0, 0},                                  // 55:予備
		{0, 0, 0},                                  // 56:予備
		{0, 0, 0},                                  // 57:予備
		{0, 0, 0},                                  // 58:予備
        {0, 0, 0}                                   // 59:予備
	},
	{// システム制御/管理データ6 60～69 
        {0, 0, 0},                                  // 60:予備
        {0, 0, 0},                                  // 61:予備
		{0, 0, 0},                                  // 62:予備
		{0, 0, 0},                                  // 63:予備
        {0, 0, 0},                                  // 64:予備
		{0, 0, 0},                                  // 65:予備
		{0, 0, 0},                                  // 66:予備
		{0, 0, 0},                                  // 67:予備
        {0, 0, 0},                                  // 68:予備
        {0, 0, 0}                                   // 69:予備
	},
	{// システム制御/管理データ7 
        {0, 0, 0},                                  // 70:予備
        {0, 0, 0},                                  // 71:予備
		{0, 0, 0},                                  // 72:予備
		{0, 0, 0},                                  // 73:予備
        {0, 0, 0},                                  // 74:予備
		{0, 0, 0},                                  // 75:予備
		{0, 0, 0},                                  // 76:予備
		{0, 0, 0},                                  // 77:予備
        {0, 0, 0},                                  // 78:予備
        {0, 0, 0}                                   // 79:予備
	},
	{// システム制御/管理データ8 
        {0, 1, 0},                                  // 80:出力手動制御モード(未実装)
        {0, 1, 0},                                  // 81:周波数手動制御モード
		{0, 1, 0},                                  // 82:共振周波数探査完了フラグ
		{0, 5000, 2500},                            // 83:共振周波数記録(10Hz単位)
        {0, 1800, 0},                               // 84:共振周波数位相差記録(10倍)
		{0, 100, 100},                              // 85:最大PWMデューティ
		{0, 16383, 0},                              // 86:最大出力電流AD値
		{0, 1, 1},                                  // 87:周波数固定モード
        {0, 100, 10},                               // 88:比例ゲイン(Kp)調整(0.01~1.00)
        {0, 100, 10}                                // 89:積分ゲイン(ki)調整(0.001~0.100)
	},
	{// システム制御/管理データ9 
        {0, 0, 0},                                  // 90:予備
        {0, 0, 0},                                  // 91:予備
		{0, 0, 0},                                  // 92:予備
		{0, 0, 0},                                  // 93:予備
        {0, 0, 0},                                  // 94:予備
		{0, 0, 0},                                  // 95:予備
		{0, 0, 0},                                  // 96:予備
		{0, 0, 0},                                  // 97:予備
        {0, 0, 0},                                  // 98:予備
		{0, 1, 0}		                            // 99:システムリセット(製造、検査、出荷用) 
	}
};

// サーミスタ温度テーブル定義
typedef struct {
    int16_t top_temp;    // 温度トップ値
    int16_t num_elements; // 要素数
} TempTableEntry;

// STS-60とSTS-73のテーブルをconst配列として定義
static const int16_t sts_60_temp_ad[130] = {
    9968,9952,9935,9917,9898,9879,9858,9836,9814,9790,  				// -30～-21 
    9765,9739,9712,9683,9654,9622,9590,9556,9521,9484,					// -20～-11 
	9446,9406,9365,9322,9278,9232,9184,9134,9083,9030,					// -10～-01 
	8975,8919,8861,8801,8739,8675,8610,8542,8432,8402,					// +00～+09 
	8329,8254,8178,8100,8020,7938,7855,7770,7684,7596,					// +10～+19 
	7506,7416,7323,7230,7136,7040,6943,6846,6746,6647,					// +20～+29 
	6547,6446,6345,6243,6141,6038,5936,5832,5729,5625,					// +30～+39 
	5523,5421,5317,5215,5114,5013,4912,4812,4713,4615,					// +40～+49 
	4517,4421,4325,4231,4137,4045,3957,3864,3775,3688,					// +50～+59 
	3601,3517,3434,3352,3271,3192,3115,3038,2964,2890,					// +60～+69 
	2818,2748,2679,2611,2545,2481,2418,2356,2295,2236,					// +70～+79 
	2179,2123,2068,2014,1961,1910,1860,1811,1765,1718,					// +80～+89 
	1673,1629,1586,1545,1504,1465,1426,1389,1353,1317,					// +90～+99 
};

static const TempTableEntry sts_60_temp_params[100] = {
    {99,1},{99,1},{99,1},{99,1},{99,1},{99,1},{99,1},{99,1},{99,1},{99,1},  			// 温度区分00～09 
    {99,1},{99,1},{99,1},{97,3},{95,2},{92,3},{90,2},{88,2},{86,2},{84,2},				// 温度区分10～19 
	{82,2},{80,2},{78,2},{77,1},{75,2},{74,1},{72,2},{71,1},{69,2},{68,1},				// 温度区分20～29 
	{67,1},{65,2},{64,1},{63,1},{62,1},{61,1},{59,2},{58,1},{57,1},{56,1},				// 温度区分30～39 
	{55,1},{54,1},{53,1},{52,1},{51,1},{50,1},{49,1},{48,1},{47,1},{46,1},				// 温度区分40～49 
	{45,1},{44,1},{43,1},{42,1},{41,1},{40,1},{39,1},{38,1},{37,1},{36,1},				// 温度区分50～59 
	{35,1},{34,1},{33,1},{32,1},{31,1},{30,1},{29,1},{28,1},{27,1},{26,1},				// 温度区分60～69 
	{25,1},{24,1},{23,1},{22,1},{21,1},{19,2},{18,1},{17,1},{16,1},{15,1},				// 温度区分70～79 
	{13,2},{12,1},{11,1},{10,1},{8,2},{7,1},{5,2},{4,1},{2,2},{0,2},					// 温度区分80～89 
	{-2,2},{-4,2},{-6,2},{-8,2},{-11,3},{-14,3},{-17,3},{-21,4},{-26,5},{-30,4}			// 温度区分90～99 
};

static const int16_t sts_73_temp_ad[140] = {
    9752,9725,9697,9668,9637,9605,9572,9538,9502,9464,  				// -40～-31 
	9426,9385,9344,9301,9256,9209,9161,9112,9060,9007,					// -30～-21 
	8953,8897,8838,8779,8717,8654,8589,8523,8454,8385,					// -20～-11 
	8313,8240,8165,8088,8011,7931,7850,7767,7683,7598,					// -10～-01 
	7512,7424,7335,7245,7154,7062,6968,6874,6779,6684,					// +00～+09 
	6588,6490,6393,6295,6197,6099,6002,5903,5805,5705,					// +10～+19 
	5607,5510,5412,5315,5215,5120,5024,4929,4834,4740,					// +20～+29 
	4647,4554,4463,4372,4282,4194,4106,4020,3953,3851,					// +30～+39 
	3768,3686,3606,3527,3449,3372,3297,3222,3150,3079,					// +40～+49 
	3008,2940,2872,2806,2741,2678,2616,2555,2495,2437,					// +50～+59 
	2379,2324,2269,2216,2164,2113,2063,2014,1967,1920,					// +60～+69 
	1875,1831,1788,1745,1704,1664,1624,1586,1549,1512,					// +70～+79 
	1477,1442,1409,1376,1343,1312,1282,1252,1223,1195,					// +80～+89 
	1167,1140,1114,1088,1064,1040,1016,992,970,948,						// +90～+99 
};

static const TempTableEntry sts_73_temp_params[100] = {
    {100,1},{100,1},{100,1},{100,1},{100,1},{100,1},{100,1},{100,1},{100,1},{97,4},  	// 温度区分00～09 
	{93,4},{89,4},{86,3},{83,3},{80,3},{77,3},{75,2},{72,3},{70,2},{68,2},				// 温度区分10～19 
	{66,2},{64,2},{62,2},{60,2},{58,2},{57,1},{55,2},{54,1},{52,2},{51,1},				// 温度区分20～29 
	{49,2},{48,1},{46,2},{45,1},{44,1},{43,1},{41,2},{40,1},{39,1},{38,1},				// 温度区分30～39 
	{37,1},{35,2},{34,1},{33,1},{32,1},{31,1},{30,1},{29,1},{28,1},{27,1},				// 温度区分40～49 
	{26,1},{25,1},{24,1},{23,1},{22,1},{21,1},{20,1},{19,1},{18,1},{17,1},				// 温度区分50～59 
	{15,2},{14,1},{13,1},{12,1},{11,1},{10,1},{9,1},{8,1},{7,1},{6,1},					// 温度区分60～69 
	{5,1},{4,1},{3,1},{2,1},{1,1},{-1,2},{-2,1},{-3,1},{-4,1},{-5,1},					// 温度区分70～79 
	{-7,2},{-8,1},{-9,1},{-11,2},{-12,1},{-14,2},{-15,1},{-17,2},{-19,2},{-20,1},		// 温度区分80～89 
};